"use strict";var nbPushNotificationService=function(a){var b={registration:null,notification:null,error:null},c=this;c.pluginExists=void 0!=window.PushNotification;var d=c.pluginExists?PushNotification.init(a):null,e=function(){c.pluginExists=void 0!=window.PushNotification,d=c.pluginExists&&null===d?PushNotification.init(a):null};c.registrationId=null,c.isRegistered=!1,e(),c.init=function(b){a=b,e()},c.hasPermission=function(a,b){return c.pluginExists?nbPushNotification.hasPermission(function(d){d.isEnabled?(d.reason=null,a.call(c,d)):(d.reason="nopermission",b.call(c,d))}):"function"==typeof b&&b.call(c,{isEnabled:!1,reason:"noplugin"}),this},c.registration=function(a){if(!c.pluginExists)throw new nbPushNotificationPluginNotFoundException;if("function"==typeof a)b.registration=a,d.on("registration",function(a){c.registrationId=a.registrationId,c.isRegistered=!0,b.registration.call(c,a.registrationId,a)});else{if(null!==a)throw new nbPushNotificationInvalidArgumentException("Invalid argument for event `registration`");c.off("registration")}return this},c.notification=function(a){if(!c.pluginExists)throw new nbPushNotificationPluginNotFoundException;if("function"==typeof a)b.notification=a,d.on("notification",function(a){b.notification.call(c,a)});else{if(null!==a)throw new nbPushNotificationInvalidArgumentException("Invalid argument for event `notification`");c.off("notification")}return this},c.error=function(a){if(!c.pluginExists)throw new nbPushNotificationPluginNotFoundException;if("function"==typeof a)b.error=a,d.on("error",function(a){b.error.call(c,a)});else{if(null!==a)throw new nbPushNotificationInvalidArgumentException("Invalid argument for event `error`");c.off("error")}return this},c.off=function(a){if(!c.pluginExists)throw new nbPushNotificationPluginNotFoundException;if("registration"===a||a===c.registration||a===b.registration)d.off("registration",b.registration),b.registration=null,c.registrationId=null,c.isRegistered=!1;else if("notification"===a||a===c.notification||a===b.notification)d.off("notification",b.notification),b.notification=null;else{if("error"!==a&&a!==c.error&&a!==b.error)throw new nbPushNotificationInvalidArgumentException("Invalid event name, callback or handler to remove");d.off("error",b.error),b.error=null}return this},c.unregister=function(a,b,e){return c.off("registration"),d.unregister(a,b,e),this},c.finish=function(a,b,c){return d.finish(a,b,c),this}};!function(a){a.module("nb.pushnotification",[]).provider("$pushNotification",[function(){var a={};this.init=function(b){a=b},this.$get=[function(){return new nbPushNotificationService(a)}]}])}(angular);